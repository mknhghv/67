-- 服務與設定表（同之前）
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local Camera = Workspace.CurrentCamera

-- 載入 CATui + 立即修復
local CATui = loadstring(game:HttpGet("https://raw.githubusercontent.com/mknhghv/67/refs/heads/main/CATui"))()
local Lib = CATui:Init()

-- 防 Bug：移除彩虹 Stroke + 提高 ZIndex
task.delay(0.5, function()
    local gui = game.CoreGui:FindFirstChild("NEKOUI_MAIN")
    if gui then
        local main = gui:FindFirstChildWhichIsA("Frame")
        if main and main:FindFirstChild("UIStroke") then
            main.UIStroke:Destroy()
        end
        for _, obj in pairs(gui:GetDescendants()) do
            if obj:IsA("TextButton") or obj:IsA("TextLabel") then
                obj.ZIndex = 100
            end
        end
    end
end)

-- 設定表、FastAttack、AutoV4、Accel、ESP 邏輯（完全同之前，省略以節省空間，請從你之前的腳本複製貼上）
-- ... [這裡放所有邏輯：Settings, FastAttack, toggleAutoV4, toggleTranslateAccel, ESP functions 等]

-- UI 部分（使用 CATui）
local AttackTab = Lib:CreateTab("Attack", true)
local MiscTab = Lib:CreateTab("Misc")
local ESPTab = Lib:CreateTab("ESP")

-- Attack Tab（範例）
AttackTab:AddInfo("快速攻擊", "裝近戰自動超速！")

local autoClickBtn = AttackTab:AddButton("自動攻擊: 開啟", function(btn)
    Settings.AutoClick = not Settings.AutoClick
    btn.Text = "自動攻擊: " .. (Settings.AutoClick and "開啟" or "關閉")
end)

-- 其他按鈕同理...
-- Misc Tab、ESP Tab 同之前邏輯

-- 初始化 ESP
task.spawn(function()
    task.wait(1)
    UpdateAllESP()
end)

print("NEKO HUB 已修復載入！如果按鈕仍無法點，請告訴我你用的執行器（例如 Fluxus、Delta 等），我再針對性優化。")
